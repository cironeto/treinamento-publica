import java.util.ArrayList;
import java.util.List;

import javax.swing.JOptionPane;

import menus.MenuAdmin;
import menus.MenuInicial;
import model.Usuario;
import service.LoginService;

public class Main {
	public static void main(String[] args) throws InterruptedException {

		int opcao = 0;

		List<Usuario> usuarios = new ArrayList<>();

		// ADMINISTRADOR CADASTRADO
		usuarios.add(new Usuario("ciro", "123", "admin", "Ciro Neto", "123456", "ciro@mail", "resposta"));
		usuarios.add(new Usuario("neto", "123", "user", "Ciro Neto", "123456", "ciro@mail", "resposta"));

		do {
			opcao = MenuInicial.menu();

			switch (opcao) {
			case 1:
				int indiceUsuarioAutenticado = -1;
				indiceUsuarioAutenticado = LoginService.autenticaUsuarioERetornaIndiceUsuario(usuarios);

				// chamada dos menus por nível de usuario
				switch (usuarios.get(indiceUsuarioAutenticado).getNivel()) {
				case "admin": 
					MenuAdmin.menu();
					break;
				case "gerente": 
					MenuAdmin.menu();
					break;
				case "vendedor":
					MenuAdmin.menu();
					break;				
				default:
					JOptionPane.showMessageDialog(null, "Nível de acesso inválido");
				}
				break;

			case 2:
				LoginService.recuperaSenha(usuarios);
				break;
			case 3:
				JOptionPane.showMessageDialog(null, "Saindo do sistema");
				break;

			default:
				JOptionPane.showMessageDialog(null, "Opção inválida");
				break;
			}
		} while (opcao != 3);

	}

}
